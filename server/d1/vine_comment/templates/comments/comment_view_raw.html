{% load humanize %}

<ul class="list-group">
{% for message in p_comment.object_list %}
    <li class="list-group-item">
    <strong>{{ message.auther_ip }}</strong> <span id='comment_time'> {{ message.time_added|naturaltime }}</span> {{message.comment_str}} <br>
    </li>
{% endfor %}
</ul>

<ul class='pagination'>
{% if p_comment.has_previous %}
<li><a href="?page={{ p_comment.previous_page_number }}">«</a></li>
{% endif %}
{% for num in p_comment.paginator.page_range %}
  {% ifequal num p_comment.number %}
    <li><span class="current"><b>{{ num }}</b></span></li>
  {% else %}
    <li id='pagination_{{num}}'><a href="#">{{ num }}</a></li>
    <script type="text/javascript">
      var l = document.location;
      $('#pagination_{{num}}').on('click', function() {
    	  $('#showMsg').load(l.origin + '/ajax' + l.pathname + '?page='+{{ num }});
      });
    </script>

  {% endifequal %}
{% endfor %}
{% if p_comment.has_next %}
<li><a href="?page={{ p_comment.next_page_number }}">»</a></li>
{% endif %}


</ul>